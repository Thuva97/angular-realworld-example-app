(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7wo0":function(r,e,t){"use strict";t.r(e),t.d(e,"SettingsModule",function(){return g});var s=t("M0ag"),o=t("tyNb"),i=t("ey9i"),n=t("Hctz"),b=t("fXoL"),a=t("3Pt+"),c=t("ofXK");function l(r,e){if(1&r&&(b.Lb(0,"div",17),b.kc(1),b.Kb()),2&r){const r=b.Ub();b.yb(1),b.mc(" username ",r.errors.errors.username[0]," ")}}function m(r,e){if(1&r&&(b.Lb(0,"div",17),b.kc(1),b.Kb()),2&r){const r=b.Ub();b.yb(1),b.mc(" email ",r.errors.errors.email[0]," ")}}function u(r,e){if(1&r&&(b.Lb(0,"div",17),b.kc(1),b.Kb()),2&r){const r=b.Ub();b.yb(1),b.mc(" password ",r.errors.errors.password[0]," ")}}function d(r,e){1&r&&(b.Lb(0,"div",17),b.kc(1,"Passwords not matched"),b.Kb())}const f=[{path:"",component:(()=>{class r{constructor(r,e,t){this.router=r,this.userService=e,this.fb=t,this.user={},this.errors={errors:{}},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:"",password1:""},{validators:n.a})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}submitForm(){this.isSubmitting=!0,this.errors={errors:{}},this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(r=>this.router.navigateByUrl("/profile/"+r.username),r=>{this.errors=r,console.log(this.errors),this.isSubmitting=!1})}updateUser(r){Object.assign(this.user,r)}}return r.\u0275fac=function(e){return new(e||r)(b.Ib(o.c),b.Ib(i.f),b.Ib(a.b))},r.\u0275cmp=b.Cb({type:r,selectors:[["app-settings-page"]],decls:39,vars:7,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],[2,"font-weight","bold"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control"],["style","color:#CF563C; font-weight: bold;",4,"ngIf"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","New Password","formControlName","password",1,"form-control"],["type","password","placeholder","Re-enter Password","formControlName","password1",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[2,"color","#CF563C","font-weight","bold"]],template:function(r,e){1&r&&(b.Lb(0,"div",0),b.Lb(1,"div",1),b.Lb(2,"div",2),b.Lb(3,"div",3),b.Lb(4,"h1",4),b.kc(5,"Your Settings"),b.Kb(),b.Lb(6,"form",5),b.Sb("ngSubmit",function(){return e.submitForm()}),b.Lb(7,"fieldset",6),b.Lb(8,"fieldset",7),b.Lb(9,"label",8),b.kc(10,"URL of profile picture"),b.Kb(),b.Jb(11,"input",9),b.Kb(),b.Lb(12,"fieldset",7),b.Lb(13,"label",8),b.kc(14,"Username"),b.Kb(),b.Jb(15,"input",10),b.jc(16,l,2,1,"div",11),b.Kb(),b.Lb(17,"fieldset",7),b.Lb(18,"label",8),b.kc(19,"Bio"),b.Kb(),b.Lb(20,"textarea",12),b.kc(21,"              "),b.Kb(),b.Kb(),b.Lb(22,"fieldset",7),b.Lb(23,"label",8),b.kc(24,"Email"),b.Kb(),b.Jb(25,"input",13),b.jc(26,m,2,1,"div",11),b.Kb(),b.Lb(27,"fieldset",7),b.Lb(28,"label",8),b.kc(29,"Password"),b.Kb(),b.Jb(30,"input",14),b.jc(31,u,2,1,"div",11),b.Kb(),b.Lb(32,"fieldset",7),b.Lb(33,"label",8),b.kc(34,"Confirm Password"),b.Kb(),b.Jb(35,"input",15),b.Kb(),b.jc(36,d,2,0,"div",11),b.Lb(37,"button",16),b.kc(38," Update Settings "),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&r&&(b.yb(6),b.ac("formGroup",e.settingsForm),b.yb(1),b.ac("disabled",e.isSubmitting),b.yb(9),b.ac("ngIf",e.errors.errors.username),b.yb(10),b.ac("ngIf",e.errors.errors.email),b.yb(5),b.ac("ngIf",e.errors.errors.password),b.yb(5),b.ac("ngIf",(null==e.settingsForm.errors?null:e.settingsForm.errors.notMatched)&&e.settingsForm.get("password1").dirty),b.yb(1),b.ac("disabled",!e.settingsForm.valid))},directives:[a.m,a.i,a.f,a.a,a.h,a.e,c.k],encapsulation:2}),r})(),canActivate:[i.b]}];let p=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=b.Gb({type:r}),r.\u0275inj=b.Fb({imports:[[o.f.forChild(f)],o.f]}),r})(),g=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=b.Gb({type:r}),r.\u0275inj=b.Fb({imports:[[s.a,p]]}),r})()}}]);