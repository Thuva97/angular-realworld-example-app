!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7wo0":function(t,o,s){"use strict";s.r(o),s.d(o,"SettingsModule",function(){return L});var i=s("M0ag"),n=s("tyNb"),a=s("ey9i"),b=s("Hctz"),c=s("fXoL"),l=s("3Pt+"),u=s("ofXK");function f(e,r){if(1&e&&(c.Lb(0,"div",17),c.kc(1),c.Kb()),2&e){var t=c.Ub();c.yb(1),c.mc(" username ",t.errors.errors.username[0]," ")}}function m(e,r){if(1&e&&(c.Lb(0,"div",17),c.kc(1),c.Kb()),2&e){var t=c.Ub();c.yb(1),c.mc(" email ",t.errors.errors.email[0]," ")}}function d(e,r){if(1&e&&(c.Lb(0,"div",17),c.kc(1),c.Kb()),2&e){var t=c.Ub();c.yb(1),c.mc(" password ",t.errors.errors.password[0]," ")}}function p(e,r){1&e&&(c.Lb(0,"div",17),c.kc(1,"Passwords not matched"),c.Kb())}var g,h,v,w=[{path:"",component:(g=function(){function t(r,o,s){e(this,t),this.router=r,this.userService=o,this.fb=s,this.user={},this.errors={errors:{}},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:"",password1:""},{validators:b.a})}var o,s,i;return o=t,(s=[{key:"ngOnInit",value:function(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}},{key:"submitForm",value:function(){var e=this;this.isSubmitting=!0,this.errors={errors:{}},this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(function(r){return e.router.navigateByUrl("/profile/"+r.username)},function(r){e.errors=r,console.log(e.errors),e.isSubmitting=!1})}},{key:"updateUser",value:function(e){Object.assign(this.user,e)}}])&&r(o.prototype,s),i&&r(o,i),t}(),g.\u0275fac=function(e){return new(e||g)(c.Ib(n.c),c.Ib(a.f),c.Ib(l.b))},g.\u0275cmp=c.Cb({type:g,selectors:[["app-settings-page"]],decls:39,vars:7,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],[2,"font-weight","bold"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control"],["style","color:#CF563C; font-weight: bold;",4,"ngIf"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","New Password","formControlName","password",1,"form-control"],["type","password","placeholder","Re-enter Password","formControlName","password1",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[2,"color","#CF563C","font-weight","bold"]],template:function(e,r){1&e&&(c.Lb(0,"div",0),c.Lb(1,"div",1),c.Lb(2,"div",2),c.Lb(3,"div",3),c.Lb(4,"h1",4),c.kc(5,"Your Settings"),c.Kb(),c.Lb(6,"form",5),c.Sb("ngSubmit",function(){return r.submitForm()}),c.Lb(7,"fieldset",6),c.Lb(8,"fieldset",7),c.Lb(9,"label",8),c.kc(10,"URL of profile picture"),c.Kb(),c.Jb(11,"input",9),c.Kb(),c.Lb(12,"fieldset",7),c.Lb(13,"label",8),c.kc(14,"Username"),c.Kb(),c.Jb(15,"input",10),c.jc(16,f,2,1,"div",11),c.Kb(),c.Lb(17,"fieldset",7),c.Lb(18,"label",8),c.kc(19,"Bio"),c.Kb(),c.Lb(20,"textarea",12),c.kc(21,"              "),c.Kb(),c.Kb(),c.Lb(22,"fieldset",7),c.Lb(23,"label",8),c.kc(24,"Email"),c.Kb(),c.Jb(25,"input",13),c.jc(26,m,2,1,"div",11),c.Kb(),c.Lb(27,"fieldset",7),c.Lb(28,"label",8),c.kc(29,"Password"),c.Kb(),c.Jb(30,"input",14),c.jc(31,d,2,1,"div",11),c.Kb(),c.Lb(32,"fieldset",7),c.Lb(33,"label",8),c.kc(34,"Confirm Password"),c.Kb(),c.Jb(35,"input",15),c.Kb(),c.jc(36,p,2,0,"div",11),c.Lb(37,"button",16),c.kc(38," Update Settings "),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()),2&e&&(c.yb(6),c.ac("formGroup",r.settingsForm),c.yb(1),c.ac("disabled",r.isSubmitting),c.yb(9),c.ac("ngIf",r.errors.errors.username),c.yb(10),c.ac("ngIf",r.errors.errors.email),c.yb(5),c.ac("ngIf",r.errors.errors.password),c.yb(5),c.ac("ngIf",(null==r.settingsForm.errors?null:r.settingsForm.errors.notMatched)&&r.settingsForm.get("password1").dirty),c.yb(1),c.ac("disabled",!r.settingsForm.valid))},directives:[l.m,l.i,l.f,l.a,l.h,l.e,u.k],encapsulation:2}),g),canActivate:[a.b]}],y=((v=function r(){e(this,r)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=c.Gb({type:v}),v.\u0275inj=c.Fb({imports:[[n.f.forChild(w)],n.f]}),v),L=((h=function r(){e(this,r)}).\u0275fac=function(e){return new(e||h)},h.\u0275mod=c.Gb({type:h}),h.\u0275inj=c.Fb({imports:[[i.a,y]]}),h)}}])}();